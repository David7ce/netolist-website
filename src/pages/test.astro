---
import { supabase } from '../config/supabaseClient';

// Fetch categories from Supabase
const { data: categories, error } = await supabase.from('category').select('*');

// If there's an error fetching data, handle it
if (error) {
  console.error("Error fetching categories:", error);
}
---

<html>
  <body>
    <h1>Categorías:</h1>
    
    <!-- Show categories if data is fetched -->
    {categories ? (
      <ul>
        {categories.map((category) => (
          <li>{category.name}</li> // Sin el key aquí
        ))}
      </ul>
    ) : (
      <p>Loading categories...</p>
    )}

    <!-- Show error message if there's an error -->
    {error && <p>Error: {error.message}</p>}
  </body>
</html>
